!function(b,q,g,r){b(g).ready(function(){function l(){"icon"!==a.edit_format.val()?e&&(h.hide(),m.forEach(function(a){f[a].removeClass("formRow--editing-icon")}),e=!1,setTimeout(XF.layoutChange,0)):e||(p||(p=!0,a.hidden.on("change",g),a.can_transform.on("change",d),a.show_color.on("change",d),a.required.on("change",d)),d(),h.show(),m.forEach(function(a){f[a].addClass("formRow--editing-icon")}),e=!0,setTimeout(XF.layoutChange,0))}function d(){var n=Object.keys(c),b=JSON.parse(a.hidden.val());c["default"]=
c.value="string"===typeof b.value?b.value:"";c.color="string"===typeof b.color?b.color:"";c.canTransform=!!a.can_transform.prop("checked");c.showColor=!!a.show_color.prop("checked");c.required=!!a.required.prop("checked");""===c.color||c.showColor||(c.showColor=!0,a.show_color.prop("checked",!0));c.canTransform||-1===c.value.indexOf("icon-rotate:")&&-1===c.value.indexOf("icon-transform:")||(c.canTransform=!0,a.can_transform.prop("checked",!0));a.sub_options.val(n.join("\n")).css("height",14+21*n.length+
"px");a.default_value.val(JSON.stringify(c)).css("height","77px");a.data_type.val("array")}function g(){setTimeout(d,0)}var a={edit_format:b("select[name=edit_format]"),edit_format_params:b("textarea[name=edit_format_params]"),data_type:b("select[name=data_type]"),default_value:b("textarea[name=default_value]"),sub_options:b("textarea[name=sub_options]"),validation_class:b("input[name=validation_class]"),validation_method:b("input[name=validation_method]"),edit_icon:b("div[data-name=edit_icon]"),
hidden:b("input.iconbox-input--value"),can_transform:b('input[name="edit_icon_transform[selected]"]'),show_color:b('input[name="edit_icon_color[selected]"]'),required:b('input[name="edit_icon_required[selected]"]')},m=["edit_format_params","data_type","default_value","sub_options","validation_class"],f={},h=b(".iconOptions"),k=1!==h.length,c={value:"","default":"",color:"",showColor:!1,canTransform:!0,required:!1},p=!1,e=!1;Object.keys(a).forEach(function(c){1!==a[c].length?k=!0:(f[c]=a[c].parents(".formRow:first"),
1!==f[c].length&&(k=!0))});k||(function(){var b;"icon"===a.edit_format.val()&&((b=a.hidden.parent().attr("data-original-value"))&&"{"===b.slice(0,1)||(b=a.hidden.val()),b=JSON.parse(b),Object.keys(c).forEach(function(a){void 0!==b[a]&&(c[a]=b[a])}));a.can_transform.prop("checked",c.canTransform);a.show_color.prop("checked",c.showColor);a.required.prop("checked",c.required)}(),a.edit_format.on("change",l),setTimeout(l,0))})}(jQuery,window,document);